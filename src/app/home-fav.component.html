<div class="jumbotron">
    <h2>This is Cinema Paradiso</h2>
    <p class="lead">
        Your one destination for all the information about films.
    </p>
</div>
<div class="breadcrumb">
  <label class='active'>Favorites</label>
  <div  class='active' style='float:right;margin-left:10px;'>Filter By: 
    <p-dropdown #dd [options]="langauges" (onChange)="filterBy(selectedlangauge)"  [(ngModel)]="selectedlangauge" placeholder="Language"></p-dropdown>
  </div>
  <div  *ngIf="movies.length > 0" class='active' style='float:right;'>Sort By: 
    Year    <a (click)="orderBy('release_date','asc')"><i class='glyphicon glyphicon-sort-by-attributes'></i></a>  
            <a (click)="orderBy('release_date','desc')"><i class='glyphicon glyphicon-sort-by-attributes-alt'></i></a> | 
    Rating  <a (click)="orderBy('vote_average','asc')"><i class='glyphicon glyphicon-sort-by-attributes'></i></a> 
            <a (click)="orderBy('vote_average','desc')"><i class='glyphicon glyphicon-sort-by-attributes-alt'></i></a> | 
    Name    <a (click)="orderBy('title','asc')"><i class='glyphicon glyphicon-sort-by-attributes'></i></a>  
            <a (click)="orderBy('title','desc')"><i class='glyphicon glyphicon-sort-by-attributes-alt'></i></a>  
  </div>
</div>

<p>Selected Language: {{selectedlangauge ? selectedlangauge.name : 'Any'}}</p> 
<alert type="info" *ngIf="movies.length == 0">
  <strong>No favorites yet!</strong> Go search and add some of your favorite ones.
</alert>
<div class="wrapper" *ngFor="let movie of movies">
  <div class="product-img">
    <img [src]="'https://image.tmdb.org/t/p/w300_and_h450_bestv2'+movie.poster_path" height="220" width="147">
  </div>
  <div class="product-info">
    <div class="product-text">
        <h1>
            {{ movie.title }} 
            <span style="height: 20px;" (click)="addRemoveFav(movie)" [ngClass]="isFav(movie.id)"></span>
        </h1>
        <template #popTemplate>
          <table style='width:100%;'>
            <tr>
              <td>Original Title</td>
              <td>: {{ movie.original_title }}</td>
            <tr>
            <tr>
              <td>Votes</td>
              <td>: {{ movie.vote_count }}</td>
            <tr>
            <tr>
              <td>Rating</td>
              <td>: {{ movie.vote_average }}</td>
            <tr>
            <tr>
              <td>Language</td>
              <td>: {{ movie.original_language }}</td>
            <tr>
          </table>
        </template>
        <h2>
        Year: {{ movie.release_date | date }}
        </h2>
        <a [popover]="popTemplate" popoverTitle="Details" placement="bottom" [outsideClick]="true"> View Details </a>          
      <p>{{ movie.overview }} </p>
    </div>
    <a style='float:right;' 
    [popover]="popTemplate2" popoverTitle="Plot" placement="left" [outsideClick]="true"
    type="info" 
    *ngIf="movie.overview?.length > 422">
      Read More..
    </a>
    <template #popTemplate2>
      {{ movie.overview }}
    </template>         
  </div>
</div>
